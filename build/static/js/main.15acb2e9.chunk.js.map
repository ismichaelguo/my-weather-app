{"version":3,"sources":["asset/image/water.svg","asset/image/cold.svg","asset/image/high-temperature.svg","component/city-card/CityCard.js","component/city-card-container/CityCardContainer.js","component/weather-forecase-board/WeatherForecastBoard.js","component/current-weather-board/CurrentWeatherBoard.js","App.js","index.js"],"names":["module","exports","CityCard","props","state","photo","className","onClick","this","getWeatherData","id","city","src","alt","React","Component","CityCardContainer","cities","map","key","cityImage","selectedCity","WeatherForecastBoard","getDay","date","whichDay","Date","parse","replace","getDegree","temp","newTemp","Math","floor","getPercent","degree","getForecastBoard","WEATHER_DATA","weather","data","length","furtherDays","day","moonrise_ts","datetime","Humidity","rh","icon","minTemp","min_temp","maxTemp","max_temp","CurrentForecastBoard","getDate","undefined","whichDate","getMonth","getWeatherBoard","percentage","pop","console","log","timestamp_local","city_name","vis","value","text","styles","buildStyles","textColor","pathColor","trailColor","App","handleSubmit","e","a","preventDefault","isCity","test","target","elements","fetch","photo_api","json","response_photo","nameError","document","getElementById","limitError","results","cityItem","urls","small","cityNumber","searchCity","setState","prevState","concat","style","height","setTimeout","API_KEY","FroeCastWeatherData","ForeCastResponse","foreCastWeather","transform","CurrentWeatherData","CurrentResponse","currentWeather","imageId","onSubmit","type","placeholder","getData","CurrentWeatherBoard","ReactDOM","render"],"mappings":"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","file":"static/js/main.15acb2e9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/water.e4431485.svg\";","module.exports = __webpack_public_path__ + \"static/media/cold.9129d938.svg\";","module.exports = __webpack_public_path__ + \"static/media/high-temperature.126f15b7.svg\";","import React from \"react\";\nimport \"./city-card.scss\";\n\nclass CityCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photo: \"\",\n    };\n  }\n\n  render() {\n\n    return (\n      <div\n        className={\"card\"}\n        onClick={this.props.getWeatherData}\n        id={this.props.city}\n      >\n        <img\n          className=\"card__image\"\n          src={this.props.photo}\n          alt={this.props.city}\n        />\n        <p className=\"card__title\">{this.props.city}</p>\n      </div>\n    );\n  }\n}\n\n\n\nexport default CityCard;\n","import React from \"react\";\nimport \"./city-card-container.scss\";\nimport CityCard from \"../city-card/CityCard\";\n\nclass CityCardContainer extends React.Component {\n  render() {\n    //get input cities\n    const { cities } = this.props;\n    return (\n      <div className=\"cityCards\">\n      {/* get elements list by using input city array */}\n        {cities.map((city) => (\n          <CityCard\n            key={city.id}\n            city={city.city}\n            photo={city.cityImage}\n            getWeatherData={this.props.getWeatherData}\n            selectedCity={this.props.selectedCity}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default CityCardContainer;\n","import React, { Fragment } from \"react\";\nimport Humidity from \"../../asset/image/water.svg\";\nimport minTemp from \"../../asset/image/cold.svg\";\nimport maxTemp from \"../../asset/image/high-temperature.svg\";\n\nimport \"./weather-forecast-board.scss\";\n\nclass WeatherForecastBoard extends React.Component {\n  getDay = (date) => {\n    const Day = [\n      \"Sunday\",\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n    ];\n    let whichDay = new Date(Date.parse(date.replace(/-/g, \"/\")));\n    return <h4>{Day[whichDay.getDay()]}</h4>;\n  };\n\n  getDegree = (temp) => {\n    const newTemp = Math.floor(temp);\n    return <p>{`${newTemp}Â°C`} </p>;\n  };\n\n  getPercent = (degree) => {\n    return <p>{`${degree}%`}</p>;\n  };\n\n  getForecastBoard = (props) => {\n    const WEATHER_DATA = this.props.weather.data || [];\n    //make sure already get data from api\n    if (WEATHER_DATA.length > 0) {\n      const furtherDays = [\n        WEATHER_DATA[0],\n        WEATHER_DATA[1],\n        WEATHER_DATA[2],\n        WEATHER_DATA[3],\n        WEATHER_DATA[4],\n        WEATHER_DATA[5],\n        WEATHER_DATA[6],\n      ];\n\n      return (\n        <div className=\"days\">\n          <div className=\"days__container\">\n            {furtherDays.map((day) => (\n              <div className=\"weatherCard\" key={day.moonrise_ts}>\n                {this.getDay(day.datetime)}\n                <div className=\"weatherCard__humidity\">\n                  <img src={Humidity} alt=\"\" />\n                  {this.getPercent(day.rh)}\n                </div>\n                <img\n                  className=\"weatherCard__icon\"\n                  src={`https://www.weatherbit.io/static/img/icons/${day.weather.icon}.png`}\n                  alt=\"\"\n                />\n                <div className=\"weatherCard__minTemp\">\n                  <img src={minTemp} alt=\"\" />\n                  {this.getDegree(day.min_temp)}\n                </div>\n                <div className=\"weatherCard__maxTemp\">\n                  <img src={maxTemp} alt=\"\" />\n                  {this.getDegree(day.max_temp)}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      );\n    }\n  };\n\n  render() {\n    return <Fragment>{this.getForecastBoard()}</Fragment>;\n  }\n}\n\nexport default WeatherForecastBoard;\n","import React, { Fragment } from \"react\";\nimport \"./current-weather-board.scss\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\n\nclass CurrentForecastBoard extends React.Component {\n  getDate = (date) => {\n    if (date !== undefined) {\n      const Day = [\"Sun\", \"Mon\", \"Tues\", \"Wed\", \"Thurs\", \"Fri\", \"Sat\"];\n      const Month = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\",\n      ];\n      //parse date time from json format\n      let whichDate = new Date(Date.parse(date));\n      return (\n        <Fragment>\n          {/*get date,day,month respectively*/}\n          {Day[whichDate.getDay(date)]},{whichDate.getDate(date)}{\" \"}\n          {Month[whichDate.getMonth(date)]}\n        </Fragment>\n      );\n    }\n  };\n\n  getDegree = (temp) => {\n    const newTemp = Math.floor(temp);\n    return (\n      <>\n        {newTemp}\n        <span>&deg;</span>{\" \"}\n      </>\n    );\n  };\n\n  getWeatherBoard = (props) => {\n    // get forecast data from  props\n    const { weather } = this.props;\n    if (weather.data !== undefined) {\n      const percentage = weather.data[0].pop;\n      console.log(\"555555\", percentage);\n      return (\n        <>\n          <div className=\"description\">\n            <div className=\"description__title\">\n              <img\n                src={`https://www.weatherbit.io/static/img/icons/${weather.data[0].weather.icon}.png`}\n                alt=\"\"\n              />\n              <h4>Today</h4>\n            </div>\n            <p>{this.getDate(weather.data[0].timestamp_local)}</p>\n            <h3>{this.getDegree(weather.data[0].temp)}</h3>\n            <p>{weather.city_name}</p>\n            <p>{`Feels Like ${Math.floor(\n              weather.data[0].vis\n            )} - Sunset 20:15`}</p>\n          </div>\n          <div className=\"chart\">\n            <h4>Chance of Rain</h4>\n            <CircularProgressbar\n              className=\"chart__circle\"\n              value={percentage}\n              text={`${percentage}%`}\n              styles={buildStyles({\n                textColor: \"turquoise\",\n                pathColor: \"turquoise\",\n                trailColor: \"white\",\n              })}\n            />\n          </div>\n        </>\n      );\n    }\n  };\n\n  render() {\n    return <Fragment>{this.getWeatherBoard()}</Fragment>;\n  }\n}\n\nexport default CurrentForecastBoard;\n","import React from \"react\";\nimport \"./app.scss\";\nimport { FiSearch } from \"react-icons/fi\";\nimport CityCardContainer from \"./component/city-card-container/CityCardContainer\";\nimport WeatherForecastBoard from \"./component/weather-forecase-board/WeatherForecastBoard\";\nimport CurrentWeatherBoard from \"./component/current-weather-board/CurrentWeatherBoard\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchCity: [],\n      photo: [],\n      imageId: 0,\n      foreCastWeather: [],\n      currentWeather: [],\n    };\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    let cityTest = /^[a-zA-Z]+(?:[\\s-][a-zA-Z]+)*$/;\n    let isCity = cityTest.test(e.target.elements[0].value);\n\n    let city = e.target.elements[0].value || \"Sydney\";\n    //splash photo api\n    const Access_key = \"BHJyBbJMrYRBqHzYuivvgBVspMShqGua5e0W1BvBkrA\";\n    const photo_api = await fetch(\n      `https://api.unsplash.com/search/photos/?client_id=${Access_key}&query=${city}&orientation=landscape`\n    );\n    const response_photo = await photo_api.json();\n\n    const nameError = document.getElementById(\"nameError\");\n    const limitError = document.getElementById(\"limitError\");\n\n    let cityItem;\n    //store input cities into this.state.searchCity only when the photo data exited in splash api\n    if (response_photo.results.length > 0) {\n      cityItem = {\n        id: new Date(),\n        city: city,\n        cityImage: response_photo.results[0].urls.small,\n      };\n      let cityNumber = this.state.searchCity.length;\n      //the maximum city number is 4\n      if (cityNumber < 4) {\n        this.setState((prevState) => ({\n          searchCity: prevState.searchCity.concat(cityItem),\n        }));\n      } else if (isCity === true && cityNumber > 3) {\n        limitError.style.height = \"2rem\";\n        setTimeout(() => (limitError.style.height = \"0rem\"), 4000);\n      } else if (isCity === false) {\n        nameError.style.height = \"2rem\";\n        setTimeout(() => (nameError.style.height = \"0rem\"), 4000);\n      }\n    } else {\n      nameError.style.height = \"2rem\";\n      setTimeout(() => (nameError.style.height = \"0rem\"), 4000);\n    }\n  };\n\n  getWeatherData = async (e) => {\n    // forecast weather api\n    const API_KEY = \"45ba571f29c54202a86d5d62ca83141a\";\n    const city = e.target.id;\n    const FroeCastWeatherData = await fetch(\n      `http://api.weatherbit.io/v2.0/forecast/daily?city=${city}&key=${API_KEY}`\n    );\n    const ForeCastResponse = await FroeCastWeatherData.json();\n    this.setState({\n      foreCastWeather: ForeCastResponse,\n    });\n\n    const selectedCity = document.getElementById(city);\n    selectedCity.style.transform = \"scale(1.1)\";\n\n    //current weather api\n    const CurrentWeatherData = await fetch(\n      `https://api.weatherbit.io/v2.0/forecast/hourly?city=${city}&key=${API_KEY}&hours=48`\n    );\n    const CurrentResponse = await CurrentWeatherData.json();\n    this.setState({\n      currentWeather: CurrentResponse,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app__container\">\n          <section className=\"app__container__left\">\n            {/* search bar */}\n            <FiSearch className=\"search-icon\" />\n            <form onSubmit={this.handleSubmit}>\n              <input type=\"text\" placeholder=\"Search new place\"></input>\n              <button onClick={this.getData}>Search</button>\n            </form>\n            <div className=\"app__container__error\" id=\"nameError\">\n              It is not a Valid City Name!\n            </div>\n            <div className=\"app__container__error\" id=\"limitError\">\n              You only can add 4 cities!\n            </div>\n            {/* title */}\n            <h4>\n              Weather <span>Forecast</span>\n            </h4>\n            {/* city cards */}\n            <CityCardContainer\n              cities={this.state.searchCity}\n              imageId={this.state.imageId}\n              photo={this.state.photo}\n              getWeatherData={this.getWeatherData}\n              selectedCity={this.state.foreCastWeather}\n            />\n            {/* Weather Forecast Board */}\n            <WeatherForecastBoard weather={this.state.foreCastWeather} />\n          </section>\n          <section className=\"app__container__right\">\n            {/* Current Weather Board */}\n            <CurrentWeatherBoard weather={this.state.currentWeather} />\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Fragment>\n    <App />\n  </Fragment>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}